
<!DOCTYPE html>
<html lan='en'>

<head> 
    <meta charset="UTF-8">
    <title></title>
    <script src="https://kit.fontawesome.com/c64b6a97cb.js" crossorigin="anonymous"></script>
    <style>
        
        .stars {
            display: flex;
            font-size: 1.5em;
        }
        .text {
            padding-top: 10px;
        font-size: 0.8em
        }
        .fas {
            -webkit-text-stroke-width: 3px;
            -webkit-text-stroke-color: black;
            color: yellow;
        }

    </style>
</head>

<body>
    <div class="container">
        <div class="stars" >
        </div>
        <div>You <span id="tense"> are giving</span> <span id="number">0</span> stars!</div>
    </div>

    <script>

        const runXTimes = (target, func, start = 0) => {
            if (start >= target) return;
            func(start)
            return runXTimes(target, func, ++start)
        }

        let elements = [] , selectionLocked = false

        document.querySelector('.stars').onmouseenter = () => {
            selectionLocked = false
            tense.innerText = 'are giving'
        }


        function Star (index) {

            this.toggle = (add, remove) => {
                this.element.classList.add(add)
                this.element.classList.remove(remove)
            }

            this.newCount = () => {
                const count = index + 1

                runXTimes(count, (i) => {
                    elements[i].toggle('fas', 'far')
                    console.log(elements[i].element)
                    //elements[i].element.classList.toggle('fas')
                    //elements[i].element.classList.toggle('far')
                    // tried this but I don't think I can access the element this way
                })
                
                runXTimes( 5, (i) => {
                    elements[i].toggle('far', 'fas')
                })

                number.innerText = count
            }

            this.element = document.createElement('i')
            this.element.className = 'far fa-star'
            this.element.onmouseenter = () => {
                if(selectionLocked) return
                this.newCount()
            }
            this.element.onclick = () => {
                selectionLocked = true
                tense.innerText = 'have given'
                this.newCount()
            }
            document.querySelector('.stars').appendChild(this.element)
        }

        runXTimes( 5, (i) => {
            elements.push(new Star(i))
        })

        console.log(elements)

    </script>

</body>
</html>
