
<!DOCTYPE html>
<html lan='en'>

<head> 
    <meta charset="UTF-8">
    <title></title>
    <script src="https://kit.fontawesome.com/c64b6a97cb.js" crossorigin="anonymous"></script>
    <style>
        
        .stars {
            display: flex;
            font-size: 1.5em;
        }
        .text {
            padding-top: 10px;
        font-size: 0.8em
        }
        .fas {
            -webkit-text-stroke-width: 3px;
            -webkit-text-stroke-color: black;
            color: yellow;
        }

    </style>
</head>

<body>
    <div class="container">
        <div class="stars" >
        </div>
        <div>You <span id="tense"> are giving</span> <span id="number">0</span> stars!</div>
    </div>

    <script>

        function runXTimes (target, func, count= 0) {
            for (count ; count < target ; ++count) {
                console.log(count)
                func(count)
            } 
        }

        let elements = [] , selectionLocked = false

        document.querySelector('.stars').onmouseenter = () => {
            selectionLocked = false
            tense.innerText = 'are giving'
        }


        
      function Star(index) {
      
            this.toggle = (remove, add) => {
            this.element.classList.remove(remove)
            this.element.classList.add(add)
            }

            this.newCount = () => {
             const count = index + 1

        
                runXTimes(count, (i) => {
                elements[i].toggle('far', 'fas')
                });

        
                runXTimes(5, (i) => {
                elements[i].toggle('fas', 'far');
                }, count);
        
                number.innerText = count;
            }   

            this.element = document.createElement('i')
            this.element.className = 'far fa-star'
            this.element.onmouseenter = () => {
                if(selectionLocked) return
                console.log(elements)
                this.newCount()
            }

            this.element.onclick = () => {
                selectionLocked = true
                tense.innerText = 'have given'
                this.newCount()
            }

            document.querySelector('.stars').appendChild(this.element)
        }

        runXTimes( 5, (i) => {
            elements.push(new Star(i))
        })

        console.log(elements)

    </script>

</body>
</html>
