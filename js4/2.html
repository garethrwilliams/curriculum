<!DOCTYPE html>
<html lan='en'>

<head> 
    <meta charset="UTF-8">
    <title></title>
    <script src="https://kit.fontawesome.com/c64b6a97cb.js" crossorigin="anonymous"></script>
    <style>
        
        .stars {
            display: flex;
            font-size: 1.5em;
        }
        .text {
            padding-top: 10px;
        font-size: 0.8em
        }
        .fas {
            -webkit-text-stroke-width: 3px;
            -webkit-text-stroke-color: black;
            color: yellow;
        }

    </style>
</head>

<body>
    <div class="container">
        <div class="stars" >
        </div>
        <div class="text">You are giving 0 stars!</div>
    </div>

    <script>
        const text = document.querySelector('.text')
        let selectionLocked = false

        const runXTimes = (x, func, count = 0) => {
            if (count === x) return;
            func(count)
            console.log(count)
            return runXTimes(x, func, count + 1)
        }

        function Star (x) {
            const element = document.createElement('i')
            element.className = "far fa-star"
            element.id = `${x+1}star`
            element.setAttribute('onmouseover', `Stars(${x+1})`)
            document.querySelector('.stars').appendChild(element)
        }

        runXTimes(5, Star)


        const light = (i) => {
                if (i === 0) return 
                let id = i.toString() + "star"
                document.getElementById(id).className = "fas fa-star"
                return light(i-1)
        }
        const dim = (i) => {
                if (i > 5) return
                let id = i.toString() + "star"
                document.getElementById(id).className = "far fa-star"
                return dim(i+1)
        }

        function Stars (num) {
            if (selectionLocked) return
            light(num)
            dim(num+1)
            text.innerText = `You are giving ${num} stars!`
            document.querySelector('.stars').addEventListener('click', (e) => {
                text.innerText = `You have given ${num} stars!`
                selectionLocked = true
            })
        }

        

        document.querySelector('.stars').addEventListener('mouseleave', () => {
            selectionLocked = false
        })
        

        
    </script>

</body>
</html>
